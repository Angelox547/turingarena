{% import "macro.cpp.j2" as macro %}

#include <bits/stdc++.h>
#include "driver.h"

{% include "driver/support_proto.cpp" %}

{% for interface in task.interfaces.values() %}
    {{ macro.generate_protocol(
        interface.functions.values(),
        interface.callback_functions.values(),
        driver=True,
        interface_name=interface.name) }}
{% endfor %}

{{ macro.generate_protocol([], task.functions.values()) }}

int main() {
    accept_callbacks();
}
