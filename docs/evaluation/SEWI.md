# Submission Evaluation Web Interface

The **Submission Evaluation Web Interface (SEWI)**
is a set of conventions,
useful to pass *submissions* and receive *evaluations*
via Web APIs.

## Submissions

A SEWI HTTP request can send one or more submissions.
Each submission sent is identified by a **submission base name**.
Different submission must have different base names.

The request must satisfy the following assumptions.

- The request method is `POST`.
- The request body has the `multipart/form-data` MIME type,
and the `Content-Type` header is set accordingly.
- The request body is such that it could have been generated by sending an HTML form (called *the form* in the following) using the `FormData` Javascript API.

For every submission and for every of its fields,
the form contains exactly one field, defined by:

- name: the *submission base name* followed by the field name surrouded by brackets (`[` and `]`)
- value: the value of the submission field (either a string or a file).

The form may have other fields,
but it must not contain any other field whose name starts with a submission base name.

**Example**

Consider two submissions:

- Submission 1.
    - Base name: `new_submission`.
    - Fields:
        - name: `source`, type: file, stored in `/tmp/file1.cpp`,
        - name: `source_language`, type: string, value: `c++`.
- Submission 2.
    - Base name: `previous_submission`.
    - Fields:
        - name: `source`, type: file, stored in `/tmp/file2.py`
        - name: `source_language`, type: string, value: `python`,
        - name: `source_python_version`, type: string, value: `3`.

The following CURL command generates a valid SEWI request,
sending the above two submissions (along with other form fields):
```bash

curl https://httpbin.org/anything \
    -F action=create_submission \
    -F user=john_smith \
    -F new_submission[source]=@/tmp/file1.cpp \
    -F new_submission[source_language]=c++ \
    -F previous_submission[source]=@/tmp/file2.py \
    -F previous_submission[source_language]=python \
    -F previous_submission[source_python_version]=3 \
    -F format=json

```

## Evaluations in JSON

SEWI specify a way to represent evaluations in JSON.

TODO

## Evaluations via WebSockets

TODO
