                procedure test() callbacks {
                    function c(a);
                }
                main {
                    call test() callbacks {
                        function c(a) {
                            write a;
                            read b;
                            return b;
                        }
                    }
                    checkpoint;
                }